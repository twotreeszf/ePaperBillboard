; PlatformIO Project Configuration File
;
; ESP8266 + E029A01 2.9" E-Paper Display Project
;

[env:esp8266]
platform = espressif8266
board = nodemcuv2
framework = arduino

; Serial monitor baud rate
monitor_speed = 115200
monitor_rts = 0
monitor_dtr = 0
monitor_raw = yes

; Library dependencies
lib_deps = 
    ; GxEPD2 - E-Paper display library (supports many 2.9" displays)
    zinggjm/GxEPD2@^1.6.0
    ; Adafruit GFX - Graphics library (required by GxEPD2)
    adafruit/Adafruit GFX Library@^1.12.4
    ; Adafruit BusIO - I2C/SPI abstraction (required by GxEPD2)
    adafruit/Adafruit BusIO@^1.17.4
    ; ArduinoJson - For config storage
    bblanchon/ArduinoJson@^7.0.0
    ; LittleFS is built-in for ESP8266 framework

; Build flags
build_flags = 
    -D ARDUINO_ESP8266_NODEMCU
    ; E029A01 uses IL3820 driver (128x296 pixels)

; Flash layout: 4MB Flash (1MB Program, 2MB FileSystem)
board_build.ldscript = eagle.flash.4m2m.ld
board_build.filesystem = littlefs

; Exclude ESP32-specific task files from build for now
build_src_filter = +<*> -<Base/TTVTask.cpp> -<Tasks/TTWiFiTask.cpp> -<Base/TTWiFiManager.cpp>

; Upload speed (lower speed for better stability)
upload_speed = 460800
